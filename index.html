<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Encrypt Text Content Securely With TheHigherUps">
    <title>Encrypt With TheHigherUps</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js" integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="header">
        <h1 id="header-top">THEHIGHERUPS</h1>
        <h2 id="header-bottom">ENCRYPT</h2>
    </div>
    <strong><label for="encText">Encrypt:</label></strong><br><br>
    <textarea name="encText" id="encText" cols="30" rows="10" placeholder="Input Text"></textarea><br>
    <input type="text" name="encKey" id="encKey" placeholder="Create Secret Key"><button id="gen">G</button><br>
    <button id="enc">Encrypt Text</button><br>
    <button id="copy" title="Text Copied">Copy Generated Text</button><br>
    <p id="encOutput"></p><br><br><br>
    <hr>
    <!-- Decrypt -->
    <strong><label for="decText">Decrypt:</label></strong><br><br>
    <textarea name="decText" id="decText" cols="30" rows="10" placeholder="Input Encrypted Text"></textarea><br>
    <input type="text" name="decKey" id="decKey" placeholder="Input Secret Key"><br>
    <button id="dec">Decrypt Text</button>
    <p id="decOutput"></p>
    <p id="test"></p>
</body>
<script>
    function randomInt(min, max) {
        return Math.floor(Math.random() * (max - min) + min)
    }
    var genKey = document.getElementById("gen");
    var encButton = document.getElementById("enc");
    var decButton = document.getElementById("dec");
    var copyButton = document.getElementById("copy");
    if(encButton) {
        encButton.addEventListener("click", encText);
    }
    if(decButton) {
        decButton.addEventListener("click", decText);
    }
    if(copyButton) {
        copyButton.addEventListener("click", copyText);
    }
    if(genKey) {
        genKey.addEventListener("click", createKey);
    }
    function encText() {
        var textInput = document.getElementById("encText").value;
        var keyInput = document.getElementById("encKey").value;
        var output = document.getElementById("encOutput");
        if (keyInput === textInput) {
            alert("The Secret Key Should Not Have The Same Value As The Text");
            return;
        }else if (keyInput.length < 16) {
            alert("The Secret Key Value Should Not Be Less Than 16 Characters");
            return;
        } else {
            var cryptText = CryptoJS.AES.encrypt(textInput, keyInput);
            output.innerHTML = cryptText;
        }
    }
    function decText() {
        var textInput = document.getElementById("decText").value;
        var keyInput = document.getElementById("decKey").value;
        var output = document.getElementById("decOutput");
        var decText = CryptoJS.AES.decrypt(textInput, keyInput).toString(CryptoJS.enc.Utf8);
        output.innerHTML = decText;
    }
    function copyText() {
        var text = document.getElementById("encOutput").innerText;
        navigator.clipboard.writeText(text);
    }
    function createKey() {
        var key = randomInt(1000000000000000, 9999999999999999);
        var text = document.getElementById("encKey");
        text.value = key;
    }
</script>
</html>
